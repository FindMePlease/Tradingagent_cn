# -*- coding: utf-8 -*-

"""
模块: 宏观与政策新闻工具 (模拟)
职责: 提供与宏观经济、产业政策相关的最新信息。
      !! 免责声明: 当前版本为模拟实现 (Mock) !!
      在真实的生产环境中，您需要将此模块替换为能够从中国政府网、发改委、
      工信部、证监会、人民银行等官方渠道，或财联社、第一财经等专业媒体
      获取实时政策信息的强大爬虫或API接口。
"""
import logging

def get_policy_news(stock_name: str, industry: str) -> str:
    """
    获取与公司所在行业相关的宏观和产业政策新闻 (模拟函数)。

    Args:
        stock_name (str): 公司名称，用于增加内容相关性。
        industry (str): 公司所属行业，如 "新能源汽车", "半导体", "人工智能"。

    Returns:
        str: 一段格式化的、模拟的政策新闻文本。
    """
    logging.info(f"[PolicyNewsUtil] 正在为行业 '{industry}' 获取模拟的政策新闻...")

    # --- 以下为模拟数据 ---
    # 在真实场景中，这些数据应该由爬虫或API动态获取
    
    mock_news_database = {
        "通用": [
            "标题: 中国人民银行宣布下调存款准备金率0.25个百分点，释放长期资金约5000亿元。\n摘要: 分析人士认为，此举旨在保持流动性合理充裕，降低社会综合融资成本，对整体市场构成利好。",
            "标题: 国务院发布《关于加快发展新质生产力的指导意见》。\n摘要: 意见强调，要以科技创新推动产业创新，特别是在人工智能、生物制造、商业航天、低空经济等领域培育壮大新兴产业。"
        ],
        "新能源汽车": [
            f"标题: 工信部等四部门联合发布《关于调整新能源汽车推广应用财政补贴政策的通知》。\n摘要: 通知明确，2025年后将逐步取消对{stock_name}等车企的购置补贴，但将加大对充换电基础设施建设的支持力度。",
            "标题: 商务部：将组织开展新一轮汽车以旧换新活动。\n摘要: 活动将鼓励高排放老旧车辆的报废更新，对购买新能源汽车的消费者给予额外补贴，利好整体销量。"
        ],
        "半导体": [
            f"标题: 国家集成电路产业投资基金三期正式成立，注册资本达3440亿元人民币。\n摘要: 基金将重点投向半导体设备、材料及EDA软件等“卡脖子”环节，对包括{stock_name}在内的产业链自主可控构成长期利好。",
            "标题: 美国商务部更新出口管制实体清单，新增数家中国芯片设计公司。\n摘要: 此举可能对国内部分企业的供应链造成短期冲击，行业不确定性增加。"
        ],
        "人工智能": [
            f"标题: 科技部宣布启动新一批国家人工智能开放创新平台建设。\n摘要: 平台将依托{stock_name}等行业龙头企业，聚焦大模型训练、智能算力等关键领域，推动AI技术与实体经济深度融合。",
            "标题: 国家网信办发布《生成式人工智能服务管理暂行办法》。\n摘要: 办法要求所有提供生成式AI服务的企业进行备案，并明确了数据安全和内容管理的红线，行业将进入规范化发展阶段。"
        ]
    }
    
    # 根据行业选择相关新闻，并总是包含通用新闻
    relevant_news = mock_news_database.get("通用", []) + mock_news_database.get(industry, [])
    
    if not relevant_news:
        logging.warning(f"未能为行业 '{industry}' 找到模拟的政策新闻。")
        return "未找到相关宏观及产业政策新闻。\n"

    formatted_news = f"--- 关于 {stock_name} (所属行业: {industry}) 的相关政策与宏观新闻 ---\n\n"
    for news in relevant_news:
        formatted_news += f"- {news}\n\n"
        
    return formatted_news

# ==============================================================================
# 示例用法 (用于直接运行此文件进行测试)
# ==============================================================================
if __name__ == '__main__':
    print("--- 测试政策新闻工具 (模拟) ---")
    
    # 案例1: 新能源汽车行业
    print("\n--- 案例1: 新能源汽车 ---")
    policy_text_1 = get_policy_news(stock_name="比亚迪", industry="新能源汽车")
    print(policy_text_1)

    # 案例2: 半导体行业
    print("\n--- 案例2: 半导体 ---")
    policy_text_2 = get_policy_news(stock_name="中芯国际", industry="半导体")
    print(policy_text_2)